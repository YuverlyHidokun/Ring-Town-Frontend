import{a as z}from"./chunk-YRCT4LZ3.js";import{C as D,D as H,G as U,e as E,g as R,h as T,i as N,k as F,l as W,o as B,p as q}from"./chunk-THKJQT2E.js";import{D as e,E as i,F as p,M as C,V as l,Y as u,Z as f,_ as h,bb as P,cb as I,db as k,eb as S,fb as O,ga as w,ib as L,ja as x,jb as j,la as M,oa as _,pa as y,r as m,s,ta as v,u as b}from"./chunk-MYLL6R6N.js";import"./chunk-CI4HLPRH.js";import"./chunk-E45MTVME.js";import"./chunk-WM6UOLYJ.js";import"./chunk-N5Q5NTLR.js";import"./chunk-JRYKI6H5.js";import"./chunk-GIIU5PV3.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{g as c}from"./chunk-2R6CW7ES.js";var et=(()=>{let a=class a{constructor(o,t,n,d){this.http=o,this.router=t,this.toastCtrl=n,this.loadingCtrl=d,this.email="",this.password="",this.backendUrl=`${z}/music/usuarios/login`}login(){return c(this,null,function*(){let o=yield this.loadingCtrl.create({message:"Iniciando sesi\xF3n..."});yield o.present(),this.http.post(this.backendUrl,{email:this.email,password:this.password}).subscribe({next:t=>c(this,null,function*(){yield o.dismiss(),localStorage.setItem("token",t.token),localStorage.setItem("usuario",JSON.stringify(t.usuario)),this.router.navigate(["/tabs"])}),error:t=>c(this,null,function*(){yield o.dismiss(),yield(yield this.toastCtrl.create({message:t.error?.msg||"Error al iniciar sesi\xF3n",duration:3e3,color:"danger"})).present()})})})}};a.\u0275fac=function(t){return new(t||a)(s(x),s(_),s(H),s(D))},a.\u0275cmp=b({type:a,selectors:[["app-login"]],decls:26,vars:2,consts:[[1,"ion-padding"],[1,"login-content"],[1,"background-watermark"],[1,"card-title"],[1,"logo-container"],[1,"logo-circle"],["src","/assets/logo.png","alt","Ring Town Logo"],[3,"submit"],["position","floating"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],[1,"button-group"],["expand","block","type","submit"],["expand","block","routerLink","/register"]],template:function(t,n){t&1&&(e(0,"ion-content",0)(1,"div",1),p(2,"div",2),e(3,"ion-card")(4,"ion-card-header")(5,"ion-card-title",3),l(6,"Bienvenido a Ring Town"),i()(),e(7,"div",4)(8,"div",5),p(9,"img",6),i()(),e(10,"ion-card-content")(11,"form",7),C("submit",function(){return n.login()}),e(12,"ion-item")(13,"ion-label",8),l(14,"Correo electr\xF3nico"),i(),e(15,"ion-input",9),h("ngModelChange",function(r){return f(n.email,r)||(n.email=r),r}),i()(),e(16,"ion-item")(17,"ion-label",8),l(18,"Contrase\xF1a"),i(),e(19,"ion-input",10),h("ngModelChange",function(r){return f(n.password,r)||(n.password=r),r}),i()(),e(20,"div",11)(21,"ion-button",12),l(22,"Iniciar Sesi\xF3n"),i()(),e(23,"div",11)(24,"ion-button",13),l(25,"Registrase"),i()()()()()()()),t&2&&(m(15),u("ngModel",n.email),m(4),u("ngModel",n.password))},dependencies:[w,j,O,P,I,L,S,k,v,y,M,W,R,N,F,T,B,q,U,E],styles:["ion-content[_ngcontent-%COMP%]{--background: #121212;color:#fff;display:flex;justify-content:center;align-items:center;padding:16px}ion-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:16px;padding:20px;width:100%;max-width:400px;box-shadow:0 0 10px #00000080}ion-card-title[_ngcontent-%COMP%]{font-size:1.8rem;color:#1db954;text-align:center}ion-item[_ngcontent-%COMP%]{--background: transparent;--color: #fff;border:1px solid #333;border-radius:8px;margin-top:12px}ion-label[_ngcontent-%COMP%]{color:#b3b3b3}ion-input[_ngcontent-%COMP%]{color:#fff}ion-button[_ngcontent-%COMP%]{margin-top:20px;--background: #1DB954;--background-activated: #1ed760;--background-focused: #1ed760;--color: #000;font-weight:700;border-radius:8px}.login-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:20px;background-color:var(--ion-background-color);overflow:hidden}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:24px;z-index:1}.logo-circle[_ngcontent-%COMP%]{width:80px;height:80px;background-color:var(--ion-color-primary);border-radius:50%;display:flex;justify-content:center;align-items:center;box-shadow:0 4px 12px #0003;overflow:hidden;transition:transform .3s ease}.logo-circle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%;transition:transform .3s ease}.logo-circle[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}@media (min-width: 768px){.logo-circle[_ngcontent-%COMP%]{width:100px;height:100px}}@media (min-width: 1024px){.logo-circle[_ngcontent-%COMP%]{width:120px;height:120px}}"]});let g=a;return g})();export{et as LoginPage};
