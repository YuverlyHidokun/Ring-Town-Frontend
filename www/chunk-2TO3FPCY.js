import{a as h}from"./chunk-YRCT4LZ3.js";import{F as $,H as D,e as L,l as B,n as N,o as R,p as V,q as W}from"./chunk-THKJQT2E.js";import{C as p,D as i,E as r,F as l,L as I,M as d,N as M,V as u,W as x,X as P,Y as y,Z as v,_ as O,bb as F,da as S,eb as U,ga as T,j as f,ja as w,jb as j,k as _,la as E,oa as k,r as s,s as m,u as b,y as C}from"./chunk-MYLL6R6N.js";import"./chunk-CI4HLPRH.js";import"./chunk-E45MTVME.js";import"./chunk-WM6UOLYJ.js";import"./chunk-N5Q5NTLR.js";import"./chunk-JRYKI6H5.js";import"./chunk-GIIU5PV3.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-LRFGNCHE.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-2R6CW7ES.js";function H(a,t){if(a&1){let c=I();i(0,"ion-item",6),l(1,"ion-img",7),i(2,"ion-label")(3,"h2"),u(4),r(),i(5,"p"),u(6),r()(),i(7,"ion-button",8),d("click",function(){let n=f(c).$implicit,o=M();return _(o.reproducirCancion(n))}),l(8,"ion-icon",9),r()()}if(a&2){let c=t.$implicit;s(),p("src",c.portadaUrl),s(3),x(c.titulo),s(2),P("",c.artista," | ",c.genero)}}var te=(()=>{let t=class t{constructor(e,n){this.http=e,this.router=n,this.canciones=[],this.genero=""}ngOnInit(){this.obtenerCanciones()}obtenerCanciones(){this.http.get(`${h}/music/canciones`).subscribe(e=>{this.canciones=e})}buscarPorGenero(){if(this.genero.trim()===""){this.obtenerCanciones();return}this.http.get(`${h}/music/canciones/buscar/genero?genero=${this.genero}`).subscribe(e=>{this.canciones=e})}reproducirCancion(e){this.router.navigate(["/reproductor"],{queryParams:{audioUrl:e.audioUrl,titulo:e.titulo,artista:e.artista,portadaUrl:e.portadaUrl,cancionId:e._id}})}};t.\u0275fac=function(n){return new(n||t)(m(w),m(k))},t.\u0275cmp=b({type:t,selectors:[["app-tab1"]],decls:6,vars:2,consts:[["fullscreen","",1,"ion-padding","page-bg"],[1,"logo-container"],["src","assets/logo.png","alt","Ring Town",1,"logo"],["placeholder","Buscar por g\xE9nero...","color","light",1,"custom-search",3,"ngModelChange","ionInput","ngModel"],[1,"song-list"],["lines","none",4,"ngFor","ngForOf"],["lines","none"],["slot","start",1,"song-img",3,"src"],["fill","clear","slot","end",3,"click"],["name","play-circle-outline"]],template:function(n,o){n&1&&(i(0,"ion-content",0)(1,"div",1),l(2,"img",2),r(),i(3,"ion-searchbar",3),O("ngModelChange",function(g){return v(o.genero,g)||(o.genero=g),g}),d("ionInput",function(){return o.buscarPorGenero()}),r(),i(4,"ion-list",4),C(5,H,9,4,"ion-item",5),r()()),n&2&&(s(3),y("ngModel",o.genero),s(2),p("ngForOf",o.canciones))},dependencies:[T,S,j,F,U,E,B,D,W,R,V,N,L,$],styles:[".page-bg[_ngcontent-%COMP%]{--background: #000;color:#fff}.logo-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}.logo[_ngcontent-%COMP%]{height:50px;object-fit:contain}.custom-search[_ngcontent-%COMP%]{margin-bottom:10px;--background: #1db954;--color: #000;--placeholder-color: #000;border-radius:10px}.song-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{background:#121212;margin:8px 0;border-radius:12px;--padding-start: 12px}.song-img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:10px;margin-right:12px}"]});let a=t;return a})();export{te as Tab1Page};
